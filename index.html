<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@camunda8/sdk</title><meta name="description" content="Documentation for @camunda8/sdk"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@camunda8/sdk</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@camunda8/sdk</h1></div><div class="tsd-panel tsd-typography"><h1 id="camunda-8-javascript-sdk" class="tsd-anchor-link">Camunda 8 JavaScript SDK<a href="#camunda-8-javascript-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@camunda8/sdk"><img src="https://nodei.co/npm/@camunda8/sdk.png" alt="NPM"></a></p>
<p><a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></p>
<p><a href="https://camunda.github.io/camunda-8-js-sdk/">Full API Docs</a>.</p>
<p>This is the official Camunda 8 JavaScript SDK. It is written in TypeScript and runs on Node.js. See why <a href="https://github.com/camunda/camunda-8-js-sdk/issues/79">this does not run in a web browser</a>.</p>
<p>See the <a href="https://docs.camunda.io/docs/next/guides/getting-started-example/">Getting Started Example</a> in the Camunda Docs for a quick start.</p>
<h2 id="what-does-supported-mean" class="tsd-anchor-link">What does &quot;supported&quot; mean?<a href="#what-does-supported-mean" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This is the official supported-by-Camunda Nodejs SDK for Camunda Platform 8.</p>
<p>The Node.js SDK will not always support all features of Camunda Platform 8 immediately upon their release. Complete API coverage for a platform release will lag behind the platform release.</p>
<p>Prioritisation of implementing features is influenced by customer demand.</p>
<h2 id="semantic-versioning" class="tsd-anchor-link">Semantic versioning<a href="#semantic-versioning" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK package tracks Camunda Platform 8 minor versioning. Feature releases to support current Platform minor version features result in a patch release of the SDK.</p>
<h2 id="using-the-sdk-in-your-project" class="tsd-anchor-link">Using the SDK in your project<a href="#using-the-sdk-in-your-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Install the SDK as a dependency:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@camunda8/sdk</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The functionality of Camunda 8 is exposed via dedicated clients for the component APIs. The recommended API client for Camunda 8.8 is the Orchestration Cluster API, using the <code>CamundaRestClient</code>.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-5">// Optional: Import types for CamundaRestClient requests and responses</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-3">type</span><span class="hl-1"> { </span><span class="hl-4">CamundaRestTypes</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Camunda 8 Orchestration API - recommended API from 8.8.0</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">restClient</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getCamundaRestClient</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Zeebe gRPC client - not recommended for new users</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">zeebe</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getZeebeGrpcApiClient</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Camunda v1 REST API clients</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">operate</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getOperateApiClient</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">optimize</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getOptimizeApiClient</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">tasklist</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getTasklistApiClient</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">modeler</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getModelerApiClient</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">admin</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getAdminApiClient</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The configuration for the SDK can be done by any combination of environment variables and explicit configuration passed to the <code>Camunda8</code> constructor.</p>
<p>The recommended method of configuration is using the zero-conf constructor, which hydrates the configuration completely from the environment:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">camunda</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>This allows you to cleanly separate the concern of configuration from your code and locate it purely in environment variable management.</p>
<p>The complete documentation of all configuration parameters (environment variables) can be found <a href="https://camunda.github.io/camunda-8-js-sdk/variables/index.CamundaSDKConfiguration.html">here</a>.</p>
<p>Any configuration passed in to the <code>Camunda8</code> constructor is merged over any configuration in the environment. The configuration object fields and the environment variables have exactly the same names.</p>
<h2 id="a-note-on-how-int64-is-handled-in-the-javascript-sdk" class="tsd-anchor-link">A note on how int64 is handled in the JavaScript SDK<a href="#a-note-on-how-int64-is-handled-in-the-javascript-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Entity keys in Camunda 8.6 and earlier are stored and represented as <code>int64</code> numbers. The range of <code>int64</code> extends to numbers that cannot be represented by the JavaScript <code>number</code> type. To deal with this, <code>int64</code> keys are serialised by the SDK to the JavaScript <code>string</code> type. See <a href="https://github.com/camunda/camunda-8-js-sdk/issues/78">this issue</a> for more details.</p>
<p>For <code>int64</code> values whose type is not known ahead of time, such as job variables, you can pass an annotated data transfer object (DTO) to decode them reliably. See the section on <a href="#process-variable-typing">Process Variable Typing</a>. If no DTO is specified, the default behavior of the SDK is to serialise all numbers to JavaScript <code>number</code>, and to throw an exception if a number value is detected at a runtime that cannot be accurately represented as the JavaScript <code>number</code> type (that is, a value greater than 2^53-1).</p>
<h2 id="authorization" class="tsd-anchor-link">Authorization<a href="#authorization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Calls to APIs can be authorized using a number of strategies. The most common is OAuth - a token that is obtained via a client id/secret pair exchange.</p>
<ul>
<li>Camunda SaaS and Self-Managed by default are configured to use OAuth with token exchange. In most cases, you will use the <code>OAUTH</code> strategy and provide configuration only. The token exchange and its lifecycle are managed by the SDK in this strategy. This passes the token in the <code>authorization</code> header of requests.</li>
<li>If you secure the gateway behind an Nginx reverse-proxy secured with basic authentication, you will use the <code>BASIC</code> strategy. This adds the login credentials as the <code>authorization</code> header on requests.</li>
<li>For C8Run 8.7, you will need to use the <code>COOKIE</code> strategy. This manages a session cookie obtained from a login endpoint, and adds it as a cookie header to requests.</li>
<li>For more customisation, you can use the <code>BEARER</code> strategy. This is a strategy that allows you to dynamically provide the <code>Bearer</code> token directly. The currently set token is added as the <code>authorization</code> header on requests.</li>
<li>If you have a even more advanced use-case (for example, the need to add specific headers with specific values to authenticate with a proxy gateway), you can construct your own AuthProvider and pass it to the constructor.</li>
<li>You can also disable header auth completely and use mTLS (client certificate) — or no authentication at all — with the <code>NONE</code> strategy.</li>
</ul>
<p>For more details on each of these scenarios, see the relevant section below.</p>
<h3 id="disable-auth" class="tsd-anchor-link">Disable Auth<a href="#disable-auth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To disable Auth, set the environment variable <code>CAMUNDA_AUTH_STRATEGY=NONE</code>. You can use this when running against a minimal Zeebe broker in a development environment, for example. You can also use this when your authentication is being done using an x509 mTLS certificate (see the section on mTLS).</p>
<h3 id="oauth" class="tsd-anchor-link">OAuth<a href="#oauth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If your platform is secured with OAuth token exchange (Camunda SaaS or Self-Managed with Identity), provide the following configuration fields at a minimum, either via the <code>Camunda8</code> constructor or in environment variables:</p>
<pre><code class="bash"><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">OAUTH</span><br/><span class="hl-4">ZEEBE_GRPC_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">...</span><br/><span class="hl-4">ZEEBE_REST_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">...</span><br/><span class="hl-4">ZEEBE_CLIENT_ID</span><span class="hl-1">=</span><span class="hl-2">...</span><br/><span class="hl-4">ZEEBE_CLIENT_SECRET</span><span class="hl-1">=</span><span class="hl-2">...</span><br/><span class="hl-4">CAMUNDA_OAUTH_URL</span><span class="hl-1">=</span><span class="hl-2">...</span>
</code><button type="button">Copy</button></pre>

<p>To get a token for the Camunda SaaS Administration API or the Camunda SaaS Modeler API, set the following:</p>
<pre><code class="bash"><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">OAUTH</span><br/><span class="hl-4">CAMUNDA_CONSOLE_CLIENT_ID</span><span class="hl-1">=</span><span class="hl-2">...</span><br/><span class="hl-4">CAMUNDA_CONSOLE_CLIENT_SECRET</span><span class="hl-1">=</span><span class="hl-2">...</span>
</code><button type="button">Copy</button></pre>

<h3 id="token-caching" class="tsd-anchor-link">Token caching<a href="#token-caching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>OAuth tokens are cached in-memory and on-disk. The disk cache is useful to prevent token endpoint saturation when restarting or rolling over workers, for example. They can all hit the cache instead of requesting new tokens.</p>
<p>You can turn off the disk caching by setting <code>CAMUNDA_TOKEN_DISK_CACHE_DISABLE</code> to true. This will cache tokens in-memory only.</p>
<p>By default, the token cache directory is <code>$HOME/.camunda</code>. You can specify a different directory by providing a full file path value for <code>CAMUNDA_TOKEN_CACHE_DIR</code>.</p>
<p>Here is an example of specifying a different cache directory via the constructor:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_TOKEN_CACHE_DIR:</span><span class="hl-1"> </span><span class="hl-2">&#39;/tmp/cache&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>If the cache directory does not exist, the SDK will attempt to create it (recursively). If the SDK is unable to create it, or the directory exists but is not writeable by your application, the SDK will throw an exception.</p>
<h3 id="basic-auth" class="tsd-anchor-link">Basic Auth<a href="#basic-auth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To use basic auth, set the following values either via the environment or explicitly in code via the constructor:</p>
<pre><code class="bash"><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">BASIC</span><br/><span class="hl-4">CAMUNDA_BASIC_AUTH_USERNAME</span><span class="hl-1">=</span><span class="hl-2">....</span><br/><span class="hl-4">CAMUNDA_BASIC_AUTH_PASSWORD</span><span class="hl-1">=</span><span class="hl-2">...</span>
</code><button type="button">Copy</button></pre>

<h3 id="cookie-auth" class="tsd-anchor-link">Cookie Auth<a href="#cookie-auth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For C8Run with 8.7, you need to use <a href="https://docs.camunda.io/docs/apis-tools/camunda-api-rest/camunda-api-rest-authentication/#authentication-via-cookie-c8run-only">Cookie Authentication</a>.</p>
<p>To use cookie auth, set the following value:</p>
<pre><code><span class="hl-7">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-7">COOKIE</span><br/><br/><span class="hl-1"># </span><span class="hl-4">Optional</span><span class="hl-1"> </span><span class="hl-4">configurable</span><span class="hl-1"> </span><span class="hl-4">values</span><span class="hl-1"> - </span><span class="hl-4">these</span><span class="hl-1"> </span><span class="hl-4">are</span><span class="hl-1"> </span><span class="hl-4">the</span><span class="hl-1"> </span><span class="hl-4">defaults</span><br/><span class="hl-7">CAMUNDA_COOKIE_AUTH_URL</span><span class="hl-1">=</span><span class="hl-8">http</span><span class="hl-1">:</span><span class="hl-5">//localhost:8080/api/login</span><br/><span class="hl-7">CAMUNDA_COOKIE_AUTH_USERNAME</span><span class="hl-1">=</span><span class="hl-4">demo</span><br/><span class="hl-7">CAMUNDA_COOKIE_AUTH_PASSWORD</span><span class="hl-1">=</span><span class="hl-4">demo</span>
</code><button>Copy</button></pre>

<h3 id="bearer-token-auth" class="tsd-anchor-link">Bearer Token Auth<a href="#bearer-token-auth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The BEARER auth strategy is provided as a low-level primitive for advanced use-cases that are not covered by the others. In this case, you need to pass an <code>authorization</code> header with a <code>Bearer</code> token on requests, but it is not issued by a supported OAuth token exchange endpoint. In this case, you can implement a token exchange mechanism and manage the lifecycle of the token, and dynamically inject it as a header through a <code>BearerAuthProvider</code>.</p>
<p>To use a Bearer token that you have already obtained, and that does not need to be dynamically updated during the lifetime of the application, simply set the following values:</p>
<pre><code class="bash"><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">BEARER</span><br/><span class="hl-4">CAMUNDA_OAUTH_TOKEN</span><span class="hl-1">=</span><span class="hl-2">....</span>
</code><button type="button">Copy</button></pre>

<p>To refresh the bearer token dynamically at runtime (for example, when it has expired and your obtain a new one), you pass in a <code>BearerAuthProvider</code> that you control:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1">, </span><span class="hl-4">Auth</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bearerAuth</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-4">Auth</span><span class="hl-1">.</span><span class="hl-0">BearerAuthProvider</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">({ </span><span class="hl-4">oauthProvider:</span><span class="hl-1"> </span><span class="hl-4">bearerAuth</span><span class="hl-1"> }) </span><span class="hl-5">// All clients and workers will use bearerAuth</span><br/><span class="hl-5">// ... after obtaining a new token</span><br/><span class="hl-4">bearerAuth</span><span class="hl-1">.</span><span class="hl-0">setToken</span><span class="hl-1">(</span><span class="hl-2">&#39;SOMETOKENVALUE....&#39;</span><span class="hl-1">) </span><span class="hl-5">// Dynamically update the bearer token value</span>
</code><button type="button">Copy</button></pre>

<h3 id="advanced-custom-headers" class="tsd-anchor-link">Advanced Custom Headers<a href="#advanced-custom-headers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can add arbitrary headers to all requests by implementing <code>IOAuthProvider</code>:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1">, </span><span class="hl-4">Auth</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">MyCustomAuthProvider</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-9">Auth</span><span class="hl-1">.</span><span class="hl-9">IOAuthProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getToken</span><span class="hl-1">(</span><span class="hl-4">audience</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// here we give a static example, but this class may read configuration,</span><br/><span class="hl-1">    </span><span class="hl-5">// exchange credentials with an endpoint, manage token lifecycles, and so forth...</span><br/><span class="hl-1">    </span><span class="hl-5">// Return an object which will be merged with the headers on the request</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;x-custom-auth-header&#39;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&#39;someCustomValue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">customAuthProvider</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyCustomAuthProvider</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">({ </span><span class="hl-4">oauthProvider:</span><span class="hl-1"> </span><span class="hl-4">customAuthProvider</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>You can use this approach to wrap one of the existing strategy classes using a facade pattern to encapsulate and extend it.</p>
<h2 id="tls" class="tsd-anchor-link">TLS<a href="#tls" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you are using self-signed certificates, you can provide the self-signed certificate path using the configuration parameter / environment variable: <code>CAMUNDA_CUSTOM_ROOT_CERT_PATH</code>.</p>
<h3 id="mtls" class="tsd-anchor-link">mTLS<a href="#mtls" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The Zeebe gRPC client supports mTLS. You can provide the mTLS certificate and key with:</p>
<pre><code><span class="hl-7">CAMUNDA_CUSTOM_CERT_CHAIN_PATH</span><span class="hl-1"> # </span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-4">mTLS</span><span class="hl-1"> </span><span class="hl-4">certificate</span><br/><span class="hl-7">CAMUNDA_CUSTOM_PRIVATE_KEY_PATH</span><span class="hl-1"> # </span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">to</span><span class="hl-1"> </span><span class="hl-0">mTLS</span><span class="hl-1"> (</span><span class="hl-4">client</span><span class="hl-1">-</span><span class="hl-4">side</span><span class="hl-1">) </span><span class="hl-4">key</span>
</code><button>Copy</button></pre>

<h2 id="connection-configuration-examples" class="tsd-anchor-link">Connection configuration examples<a href="#connection-configuration-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="camunda-8-run-88" class="tsd-anchor-link">Camunda 8 Run 8.8<a href="#camunda-8-run-88" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This is the configuration for <a href="https://developers.camunda.com/install-camunda-8/">Camunda 8 Run</a> - a local Camunda 8 instance that is the best way to get started.</p>
<pre><code class="bash"><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_REST_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8080&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_GRPC_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;grpc://localhost:26500&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-4">NONE</span>
</code><button type="button">Copy</button></pre>

<h3 id="self-managed" class="tsd-anchor-link">Self-Managed<a href="#self-managed" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This is the complete environment configuration needed to run against the Dockerised Self-Managed stack in the <code>docker</code> subdirectory:</p>
<pre><code class="bash"><span class="hl-5"># Self-Managed</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_GRPC_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;grpc://localhost:26500&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_REST_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8080&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_CLIENT_ID</span><span class="hl-1">=</span><span class="hl-2">&#39;zeebe&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_CLIENT_SECRET</span><span class="hl-1">=</span><span class="hl-2">&#39;zecret&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OAUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">&#39;OAUTH&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OAUTH_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:18080/auth/realms/camunda-platform/protocol/openid-connect/token&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_TASKLIST_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8082&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OPERATE_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8081&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OPTIMIZE_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8083&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_MODELER_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;http://localhost:8070/api&#39;</span><br/><br/><span class="hl-5"># Turn off the tenant ID, which may have been set by multi-tenant tests</span><br/><span class="hl-5"># You can set this in a constructor config, or in the environment if running multi-tenant</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_TENANT_ID</span><span class="hl-1">=</span><span class="hl-2">&#39;&#39;</span>
</code><button type="button">Copy</button></pre>

<p>If you are using an OIDC that requires a <code>scope</code> parameter to be passed with the token request, set the following variable:</p>
<pre><code><span class="hl-7">CAMUNDA_TOKEN_SCOPE</span>
</code><button>Copy</button></pre>

<p>Here is an example of doing this via the constructor, rather than via the environment:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">ZEEBE_GRPC_ADDRESS:</span><span class="hl-1"> </span><span class="hl-2">&#39;grpc://localhost:26500&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ZEEBE_REST_ADDRESS:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:8080&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ZEEBE_CLIENT_ID:</span><span class="hl-1"> </span><span class="hl-2">&#39;zeebe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ZEEBE_CLIENT_SECRET:</span><span class="hl-1"> </span><span class="hl-2">&#39;zecret&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_OAUTH_STRATEGY:</span><span class="hl-1"> </span><span class="hl-2">&#39;OAUTH&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_OAUTH_URL:</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;http://localhost:18080/auth/realms/camunda-platform/protocol/openid-connect/token&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_TASKLIST_BASE_URL:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:8082&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_OPERATE_BASE_URL:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:8081&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_OPTIMIZE_BASE_URL:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:8083&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_MODELER_BASE_URL:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://localhost:8070/api&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_TENANT_ID:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">, </span><span class="hl-5">// We can override values in the env by passing an empty string value</span><br/><span class="hl-1">  </span><span class="hl-4">CAMUNDA_SECURE_CONNECTION:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="camunda-saas" class="tsd-anchor-link">Camunda SaaS<a href="#camunda-saas" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here is a complete configuration example for connection to Camunda SaaS:</p>
<pre><code class="bash"><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_GRPC_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;grpcs://5c34c0a7-7f29-4424-8414-125615f7a9b9.syd-1.zeebe.camunda.io:443&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_REST_ADDRESS</span><span class="hl-1">=</span><span class="hl-2">&#39;https://syd-1.zeebe.camunda.io/5c34c0a7-7f29-4424-8414-125615f7a9b9&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_CLIENT_ID</span><span class="hl-1">=</span><span class="hl-2">&#39;yvvURO9TmBnP3zx4Xd8Ho6apgeiZTjn6&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">ZEEBE_CLIENT_SECRET</span><span class="hl-1">=</span><span class="hl-2">&#39;iJJu-SHgUtuJTTAMnMLdcb8WGF8s2mHfXhXutEwe8eSbLXn98vUpoxtuLk5uG0en&#39;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_TASKLIST_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;https://syd-1.tasklist.camunda.io/5c34c0a7-7f29-4424-8414-125615f7a9b9&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OPTIMIZE_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;https://syd-1.optimize.camunda.io/5c34c0a7-7f29-4424-8414-125615f7a9b9&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OPERATE_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;https://syd-1.operate.camunda.io/5c34c0a7-7f29-4424-8414-125615f7a9b9&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_OAUTH_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;https://login.cloud.camunda.io/oauth/token&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_AUTH_STRATEGY</span><span class="hl-1">=</span><span class="hl-2">&#39;OAUTH&#39;</span><br/><br/><span class="hl-5"># Admin Console and Modeler API Client</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_CONSOLE_CLIENT_ID</span><span class="hl-1">=</span><span class="hl-2">&#39;e-JdgKfJy9hHSXzi&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_CONSOLE_CLIENT_SECRET</span><span class="hl-1">=</span><span class="hl-2">&#39;DT8Pe-ANC6e3Je_ptLyzZvBNS0aFwaIV&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_CONSOLE_BASE_URL</span><span class="hl-1">=</span><span class="hl-2">&#39;https://api.cloud.camunda.io&#39;</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">CAMUNDA_CONSOLE_OAUTH_AUDIENCE</span><span class="hl-1">=</span><span class="hl-2">&#39;api.cloud.camunda.io&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="logging" class="tsd-anchor-link">Logging<a href="#logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK uses a Winston / Pino compatible logging setup. By default it uses Winston.</p>
<p>When using the default logging library, you can set the logging level of the SDK via the environment variable (or constructor configuration property) <code>CAMUNDA_LOG_LEVEL</code>. This defaults to 'info'. Values (in order of priority): <code>error</code>, <code>warn</code>, <code>info</code>, <code>http</code>, <code>verbose</code>, <code>debug</code>, <code>silly</code>.</p>
<h3 id="custom-logger" class="tsd-anchor-link">Custom logger<a href="#custom-logger" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can supply a custom logger via the constructor. For example, to use the <a href="https://getpino.io/">Pino</a> logging library:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">pino</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;pino&#39;</span><br/><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">level</span><span class="hl-1"> = </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-7">CAMUNDA_LOG_LEVEL</span><span class="hl-1"> ?? </span><span class="hl-2">&#39;trace&#39;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">logger</span><span class="hl-1"> = </span><span class="hl-0">pino</span><span class="hl-1">({ </span><span class="hl-4">level</span><span class="hl-1"> }) </span><span class="hl-5">// Logging level controlled via the logging library</span><br/><br/><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-2">&#39;Pino logger created&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">.</span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-2">&#39;Using pino logger&#39;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="awaiting-asynchronous-query-data" class="tsd-anchor-link">Awaiting Asynchronous Query Data<a href="#awaiting-asynchronous-query-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Camunda 8 uses an eventually-consistent data architecture. When you start a process instance, data related to this process instance is not immediately available in the datastore. This leads to data synchronisation issues you need to manage in your application. To aid you with this, the SDK provides a utility: <code>PollingOperation</code>. You can pass a query API operation to this utility with a polling interval and a timeout.</p>
<p>The <code>PollingOperation</code> will execute the query repeatedly until the expected data is available in the data store, or the timeout is reached.</p>
<p>The following example will return the query response for a newly-created process instance as soon as the element instance data is available:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1">, </span><span class="hl-4">PollingOperation</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">()</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">elementInstances</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">PollingOperation</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">operation</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><br/><span class="hl-1">  </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">searchElementInstances</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">sort:</span><span class="hl-1"> [{ </span><span class="hl-4">field:</span><span class="hl-1"> </span><span class="hl-2">&#39;processInstanceKey&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">    </span><span class="hl-4">filter:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">processInstanceKey:</span><span class="hl-1"> </span><span class="hl-4">processInstance</span><span class="hl-1">.</span><span class="hl-4">processInstanceKey</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;SERVICE_TASK&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-10">500</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">timeout:</span><span class="hl-1"> </span><span class="hl-10">10000</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>By default, the <code>PollingOperation</code> waits for a query response from the Orchestration Cluster API that has one or more results in the <code>items</code> array. If you have a more specific predicate, or are using one of the v1 component APIs, you can pass in a custom predicate function.</p>
<p>The following example waits for a process instance to be available to a query over the Operate API:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1">, </span><span class="hl-4">PollingOperation</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c</span><span class="hl-1"> = </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">getOperateApiClient</span><span class="hl-1">()</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">PollingOperation</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">operation</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-0">getProcessInstance</span><span class="hl-1">(</span><span class="hl-4">p</span><span class="hl-1">.</span><span class="hl-4">processInstanceKey</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">predicate</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">res</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">res</span><span class="hl-1">.</span><span class="hl-4">key</span><span class="hl-1"> === </span><span class="hl-4">p</span><span class="hl-1">.</span><span class="hl-4">processInstanceKey</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-10">500</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">timeout:</span><span class="hl-1"> </span><span class="hl-10">15000</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h2 id="subscribing-to-queries" class="tsd-anchor-link">Subscribing to queries<a href="#subscribing-to-queries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can subscribe to queries using a <code>QuerySubscription</code>. This is an event emitter that emits a <code>data</code> event when new data is available. You pass a predicate function that takes a <code>previous</code> and <code>current</code> query result set. In this predicate function you can examine the two states to see whether or not to emit a data event, and also perform data-processing — for example, removing items that were emitted in the last update.</p>
<p>Note that this is an experimental feature and may change in future releases. We are looking for feedback on this feature, please report issues in the GitHub repo or via a JIRA ticket if you have an account with Camunda.</p>
<p>Here is an example of using <code>QuerySubscription</code>:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Camunda8</span><span class="hl-1">, </span><span class="hl-4">QuerySubscription</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@camunda8/sdk&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">c8</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Camunda8</span><span class="hl-1">()</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">query</span><span class="hl-1"> = () </span><span class="hl-6">=&gt;</span><br/><span class="hl-1"> </span><span class="hl-4">c8</span><span class="hl-1">.</span><span class="hl-0">searchProcessInstances</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">filter:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">processDefinitionKey:</span><span class="hl-1"> </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">state:</span><span class="hl-1"> </span><span class="hl-2">&#39;ACTIVE&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">sort:</span><span class="hl-1"> [{ </span><span class="hl-4">field:</span><span class="hl-1"> </span><span class="hl-2">&#39;startDate&#39;</span><span class="hl-1">, </span><span class="hl-4">order:</span><span class="hl-1"> </span><span class="hl-2">&#39;ASC&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">subscription</span><span class="hl-1"> = </span><span class="hl-0">QuerySubscription</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">predicate</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">previous</span><span class="hl-1">, </span><span class="hl-4">current</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// This is the default predicate, provided here as an example</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">previousItems</span><span class="hl-1"> = (</span><span class="hl-4">previous</span><span class="hl-1">?.</span><span class="hl-4">items</span><span class="hl-1"> ?? []) </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-9">Array</span><span class="hl-1">&lt;</span><span class="hl-9">unknown</span><span class="hl-1">&gt;</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">currentItems</span><span class="hl-1"> = </span><span class="hl-4">current</span><span class="hl-1">.</span><span class="hl-4">items</span><span class="hl-1">.</span><span class="hl-0">filter</span><span class="hl-1">(</span><br/><span class="hl-1">		(</span><span class="hl-4">item</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><br/><span class="hl-1">			!</span><span class="hl-4">previousItems</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">((</span><span class="hl-4">prevItem</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">isDeepStrictEqual</span><span class="hl-1">(</span><span class="hl-4">prevItem</span><span class="hl-1">, </span><span class="hl-4">item</span><span class="hl-1">))</span><br/><span class="hl-1">	)</span><br/><span class="hl-1">	</span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">currentItems</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-10">0</span><span class="hl-1">) {</span><br/><span class="hl-1">		</span><span class="hl-3">return</span><span class="hl-1"> {</span><br/><span class="hl-1">			...</span><span class="hl-4">current</span><span class="hl-1">,</span><br/><span class="hl-1">			</span><span class="hl-4">items:</span><span class="hl-1"> </span><span class="hl-4">currentItems</span><span class="hl-1">,</span><br/><span class="hl-1">			</span><span class="hl-4">page:</span><span class="hl-1"> { ...</span><span class="hl-4">current</span><span class="hl-1">.</span><span class="hl-4">page</span><span class="hl-1">, </span><span class="hl-4">totalItems:</span><span class="hl-1"> </span><span class="hl-4">currentItems</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> },</span><br/><span class="hl-1">		}</span><br/><span class="hl-1">	}</span><br/><span class="hl-1">	</span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5">// No new items, do not emit</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-10">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">trackingWindow:</span><span class="hl-1"> </span><span class="hl-10">5</span><span class="hl-1">, </span><span class="hl-5">// Remember emitted items from last 5 poll cycles (default)</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">subscription</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// new process instances</span><br/><span class="hl-1">})</span><br/><span class="hl-5">//...</span><br/><span class="hl-4">subscription</span><span class="hl-1">.</span><span class="hl-0">cancel</span><span class="hl-1">() </span><span class="hl-5">// close subscription and free resources</span><br/><span class="hl-5">// You can also use subscription.pause() and subscription.resume() to pause and resume the subscription</span>
</code><button type="button">Copy</button></pre>

<p><strong>Note</strong>:</p>
<ul>
<li><code>QuerySubscription</code> uses a rolling window approach to prevent memory leaks when tracking emitted items. By default, it remembers items from the last 5 poll cycles to prevent duplicates. You can adjust this with the <code>trackingWindow</code> parameter:</li>
</ul>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">subscription</span><span class="hl-1"> = </span><span class="hl-0">QuerySubscription</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">query</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">predicate:</span><span class="hl-1"> </span><span class="hl-4">myCustomPredicate</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-10">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">trackingWindow:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1">, </span><span class="hl-5">// Remember items from the last 10 polling cycles</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>If you implement a custom predicate, your predicate determines what data should be emitted, and then the rolling window mechanism prevents duplicate emissions across multiple poll cycles.</p>
<p><strong>Important:</strong> The rolling window mechanism operates by serializing each emitted item to a string and tracking it for the specified number of poll cycles. This means that if an entity changes state and then returns to a previous state within the tracking window timeframe, the second appearance in the original state might not trigger an emission. For example, if a process instance transitions from &quot;READY&quot; to &quot;NOT_READY&quot; and back to &quot;READY&quot; within the tracking window, the second &quot;READY&quot; state might not be emitted. If you need to track all state transitions regardless of previous states, consider:</p>
<ol>
<li>Setting a smaller <code>trackingWindow</code> value to reduce the tracking period</li>
<li>Implementing a custom state tracking mechanism in your application</li>
<li>Including a timestamp or version field in your item identification logic</li>
</ol>
<h2 id="debugging" class="tsd-anchor-link">Debugging<a href="#debugging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK uses the <a href="https://github.com/debug-js/debug"><code>debug</code></a> library to help you debug specific issues. This produces verbose, low-level output from specific components to the console.</p>
<p>To enable debugging output, set a value for the <code>DEBUG</code> environment variable. The value is a comma-separated list of debugging namespaces. The SDK has the following namespaces:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Component</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>camunda:adminconsole</code></td>
<td>Administration API</td>
</tr>
<tr>
<td><code>camunda:modeler</code></td>
<td>Modeler API</td>
</tr>
<tr>
<td><code>camunda:operate</code></td>
<td>Operate API</td>
</tr>
<tr>
<td><code>camunda:optimize</code></td>
<td>Optimize API</td>
</tr>
<tr>
<td><code>camunda:tasklist</code></td>
<td>Tasklist API</td>
</tr>
<tr>
<td><code>camunda:oauth</code></td>
<td>OAuth Token Exchange</td>
</tr>
<tr>
<td><code>camunda:querySubscription</code></td>
<td>QuerySubscription debugging</td>
</tr>
<tr>
<td><code>camunda:grpc</code></td>
<td>Zeebe gRPC channel</td>
</tr>
<tr>
<td><code>camunda:worker</code></td>
<td>Zeebe Worker</td>
</tr>
<tr>
<td><code>camunda:worker:verbose</code></td>
<td>Zeebe Worker (additional detail)</td>
</tr>
<tr>
<td><code>camunda:zeebeclient</code></td>
<td>Zeebe Client</td>
</tr>
<tr>
<td><code>camunda:orchestration-rest</code></td>
<td>Camunda Orchestration Cluster API Client</td>
</tr>
</tbody>
</table>
<p>Here is an example of turning on debugging for the OAuth and Operate components:</p>
<pre><code class="bash"><span class="hl-4">DEBUG</span><span class="hl-1">=</span><span class="hl-2">camunda:oauth,camunda:operate</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">app.js</span>
</code><button type="button">Copy</button></pre>

<p>This is intended for development debugging and it should not be enabled in production. The debug trace can include sensitive information such as secrets.</p>
<h2 id="diagnostic-trace-file" class="tsd-anchor-link">Diagnostic Trace file<a href="#diagnostic-trace-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can output a diagnostic trace file to use with Camunda technical support by setting the environment variable <code>CAMUNDA_SUPPORT_LOG_ENABLED</code> to true. This will output a file <code>camunda-support.log</code> containing diagnostic information and tracing calls. This information is useful for debugging. Be aware that this log file will contain secrets such as bearer tokens, as well as exposing urls.</p>
<h2 id="process-variable-typing" class="tsd-anchor-link">Process Variable Typing<a href="#process-variable-typing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Process variables - the <code>variables</code> of Zeebe messages, jobs, and process instance creation requests and responses - are stored in the broker as key:value pairs. They are transported as a JSON string. The SDK parses the JSON string into a JavaScript object.</p>
<p>Various Zeebe methods accept DTO classes for variable input and output. These DTO classes are used to provide design-time type information on the <code>variables</code> object. They are also used to safely decode 64-bit integer values that cannot be accurately represented by the JavaScript <code>number</code> type.</p>
<p>To create a DTO to represent the expected shape and type of the <code>variables</code> object, extend the <code>LosslessDto</code> class:</p>
<pre><code class="typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">myVariableDTO</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">LosslessDto</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">firstName</span><span class="hl-1">!: </span><span class="hl-9">string</span><br/><span class="hl-1">	</span><span class="hl-4">lastName</span><span class="hl-1">!: </span><span class="hl-9">string</span><br/><span class="hl-1">	</span><span class="hl-4">age</span><span class="hl-1">!: </span><span class="hl-9">number</span><br/><span class="hl-1">	</span><span class="hl-4">optionalValue</span><span class="hl-1">?: </span><span class="hl-9">number</span><br/><span class="hl-1">	@</span><span class="hl-4">Int64String</span><br/><span class="hl-1">	</span><span class="hl-4">veryBigInteger</span><span class="hl-1">?: </span><span class="hl-9">string</span><br/><span class="hl-1">	</span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">myVariableDTO</span><span class="hl-1">&gt;) {</span><br/><span class="hl-1">		</span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">)</span><br/><span class="hl-1">	}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="typing-of-zeebe-worker-variables" class="tsd-anchor-link">Typing of Zeebe worker variables<a href="#typing-of-zeebe-worker-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The variable payload in a Zeebe worker task handler is available as an object <code>job.variables</code>. By default, this is of type <code>any</code> for the gRPC API, and <code>unknown</code> for the REST API.</p>
<p>The <code>ZBClient.createWorker()</code> method accepts an <code>inputVariableDto</code> to control the parsing of number values and provide design-time type information. Passing an <code>inputVariableDto</code> class to a Zeebe worker is optional. If a DTO class is passed to the Zeebe worker, it is used for two purposes:</p>
<ul>
<li>To provide design-time type information on the <code>job.variables</code> object.</li>
<li>To specify the parsing of JSON number fields. These can potentially represent <code>int64</code> values that cannot be represented accurately by the JavaScript <code>number</code> type. With a DTO, you can specify that a specific JSON number fields be parsed losslessly to a <code>string</code> or <code>BigInt</code>.</li>
</ul>
<p>With no DTO specified, there is no design-time type safety. At run-time, all JSON numbers are converted to the JavaScript <code>number</code> type. If a variable field has a number value that cannot be safely represented using the JavaScript number type (a value greater than 2^53 -1), an exception is thrown.</p>
<p>To provide a DTO, extend the <code>LosslessDto</code> class like so:</p>
<pre><code class="typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">MyVariableDto</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">LosslessDto</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">name</span><span class="hl-1">!: </span><span class="hl-9">string</span><br/><span class="hl-1">	</span><span class="hl-4">maybeAge</span><span class="hl-1">?: </span><span class="hl-9">number</span><br/><span class="hl-1">	@</span><span class="hl-4">Int64String</span><br/><span class="hl-1">	</span><span class="hl-4">veryBigNumber</span><span class="hl-1">!: </span><span class="hl-9">string</span><br/><span class="hl-1">	@</span><span class="hl-4">BigIntValue</span><br/><span class="hl-1">	</span><span class="hl-4">veryBigInteger</span><span class="hl-1">!: </span><span class="hl-9">bigint</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>In this case, <code>veryBigNumber</code> is an <code>int64</code> value. It is transferred as a JSON number on the wire, but the parser will parse it into a <code>string</code> so that no loss of precision occurs. Similarly, <code>veryBigInteger</code> is a very large integer value. In this case, we direct the parser to parse this variable field as a <code>bigint</code>.</p>
<p>You can nest DTOs like this:</p>
<pre><code class="typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">MyLargerDto</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">LosslessDto</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">id</span><span class="hl-1">!: </span><span class="hl-9">string</span><br/><span class="hl-1">	@</span><span class="hl-0">ChildDto</span><span class="hl-1">(</span><span class="hl-4">MyVariableDto</span><span class="hl-1">)</span><br/><span class="hl-1">	</span><span class="hl-4">entry</span><span class="hl-1">!: </span><span class="hl-9">MyVariableDto</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="typing-of-custom-headers" class="tsd-anchor-link">Typing of custom headers<a href="#typing-of-custom-headers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Zeebe worker receives custom headers as <code>job.customHeaders</code>. The <code>ZBClient.createWorker()</code> method accepts a <code>customHeadersDto</code> to control the behavior of custom header parsing of number values and provide design-time type information.</p>
<p>This follows the same strategy as the job variables, as previously described.</p>
<h2 id="zeebe-user-tasks" class="tsd-anchor-link">Zeebe User Tasks<a href="#zeebe-user-tasks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>From 8.5, you can use Zeebe user tasks. See the documentation on <a href="https://docs.camunda.io/docs/apis-tools/tasklist-api-rest/migrate-to-zeebe-user-tasks/">how to migrate to Zeebe user tasks</a>.</p>
<p>The SDK supports the Zeebe REST API. Be sure to set the <code>ZEEBE_REST_ADDRESS</code> either via environment variable or configuration field.</p>
<h2 id="job-streaming" class="tsd-anchor-link">Job Streaming<a href="#job-streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Zeebe gRPC API supports streaming available jobs, rather than polling for them.</p>
<p>The ZeebeGrpcClient method <code>StreamJobs</code> allows you to use this API.</p>
<p>Please note that only jobs that become available <em>after</em> the stream is opened are pushed to the client. For jobs that were already activatable <em>before</em> the method is called, you need to use a polling worker.</p>
<p>In this release, this is not handled for you. You must both poll and stream jobs to make sure that you get jobs that were available before your application started as well as jobs that become available after your application starts.</p>
<p>In a subsequent release, the ZeebeWorker will transparently handle this for you.</p>
<h2 id="multi-tenant-workers" class="tsd-anchor-link">Multi-tenant workers<a href="#multi-tenant-workers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Workers, both polling and streaming, can be multi-tenanted, requesting jobs from more than one tenant.</p>
<p>Example:</p>
<pre><code class="typescript"><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">createWorker</span><span class="hl-1">({</span><br/><span class="hl-1">	</span><span class="hl-0">taskHandler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">job</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">		</span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">job</span><span class="hl-1">.</span><span class="hl-4">tenantId</span><span class="hl-1">) </span><span class="hl-5">// &#39;&lt;default&gt;&#39; | &#39;green&#39;</span><br/><span class="hl-1">		</span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">job</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">()</span><br/><span class="hl-1">	},</span><br/><span class="hl-1">	</span><span class="hl-4">taskType:</span><span class="hl-1"> </span><span class="hl-2">&#39;multi-tenant-work&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">tenantIds:</span><span class="hl-1"> [</span><span class="hl-2">&#39;&lt;default&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;green&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">streamJobs</span><span class="hl-1">({</span><br/><span class="hl-1">	</span><span class="hl-0">taskHandler</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">job</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">		</span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">job</span><span class="hl-1">.</span><span class="hl-4">tenantId</span><span class="hl-1">) </span><span class="hl-5">// &#39;&lt;default&gt;&#39; | &#39;green&#39;</span><br/><span class="hl-1">		</span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">job</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">()</span><br/><span class="hl-1">	},</span><br/><span class="hl-1">	</span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;multi-tenant-stream-work&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">tenantIds:</span><span class="hl-1"> [</span><span class="hl-2">&#39;&lt;default&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;green&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">	</span><span class="hl-4">worker:</span><span class="hl-1"> </span><span class="hl-2">&#39;stream-worker&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">timeout:</span><span class="hl-1"> </span><span class="hl-10">2000</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h2 id="polling-worker-backoff-in-error-conditions" class="tsd-anchor-link">Polling worker backoff in error conditions<a href="#polling-worker-backoff-in-error-conditions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>When a polling worker encounters an error, including not being authenticated, the worker will back off subsequent polls by +2 seconds with each subsequent failure, up to a maximum of <code>CAMUNDA_JOB_WORKER_MAX_BACKOFF_MS</code>, which is 15000 by default (15 seconds). If the failure is due to invalid credentials and occurs during the token request, then the worker backoff will be compounded with a token endpoint backoff, which is +1000ms for each subsequent failure up to a maximum of 15s.</p>
<p>This means that if you start a worker with invalid credentials, then the polling backoff will look like this, by default (times in seconds): 3, 6, 9, 12, 15, 18, 21, 23, 24, 25, 26, 27, 28, 29, 30, 30, 30...</p>
<p>If the worker is backing off for a reason other than invalid credentials - for example a backpressure signal from the gateway - it will be: 2, 4, 6, 8, 10, 12, 14, 15, 15, 15.....</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#camunda-8-javascript-sdk"><span>Camunda 8 <wbr/>Java<wbr/>Script <wbr/>SDK</span></a><ul><li><a href="#what-does-supported-mean"><span>What does &quot;supported&quot; mean?</span></a></li><li><a href="#semantic-versioning"><span>Semantic versioning</span></a></li><li><a href="#using-the-sdk-in-your-project"><span>Using the <wbr/>SDK in your project</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><a href="#configuration"><span>Configuration</span></a></li><li><a href="#a-note-on-how-int64-is-handled-in-the-javascript-sdk"><span>A note on how int64 is handled in the <wbr/>Java<wbr/>Script <wbr/>SDK</span></a></li><li><a href="#authorization"><span>Authorization</span></a></li><li><ul><li><a href="#disable-auth"><span>Disable <wbr/>Auth</span></a></li><li><a href="#oauth"><span>O<wbr/>Auth</span></a></li><li><a href="#token-caching"><span>Token caching</span></a></li><li><a href="#basic-auth"><span>Basic <wbr/>Auth</span></a></li><li><a href="#cookie-auth"><span>Cookie <wbr/>Auth</span></a></li><li><a href="#bearer-token-auth"><span>Bearer <wbr/>Token <wbr/>Auth</span></a></li><li><a href="#advanced-custom-headers"><span>Advanced <wbr/>Custom <wbr/>Headers</span></a></li></ul></li><li><a href="#tls"><span>TLS</span></a></li><li><ul><li><a href="#mtls"><span>m<wbr/>TLS</span></a></li></ul></li><li><a href="#connection-configuration-examples"><span>Connection configuration examples</span></a></li><li><ul><li><a href="#camunda-8-run-88"><span>Camunda 8 <wbr/>Run 8.8</span></a></li><li><a href="#self-managed"><span>Self-<wbr/>Managed</span></a></li><li><a href="#camunda-saas"><span>Camunda <wbr/>Saa<wbr/>S</span></a></li></ul></li><li><a href="#logging"><span>Logging</span></a></li><li><ul><li><a href="#custom-logger"><span>Custom logger</span></a></li></ul></li><li><a href="#awaiting-asynchronous-query-data"><span>Awaiting <wbr/>Asynchronous <wbr/>Query <wbr/>Data</span></a></li><li><a href="#subscribing-to-queries"><span>Subscribing to queries</span></a></li><li><a href="#debugging"><span>Debugging</span></a></li><li><a href="#diagnostic-trace-file"><span>Diagnostic <wbr/>Trace file</span></a></li><li><a href="#process-variable-typing"><span>Process <wbr/>Variable <wbr/>Typing</span></a></li><li><a href="#typing-of-zeebe-worker-variables"><span>Typing of <wbr/>Zeebe worker variables</span></a></li><li><a href="#typing-of-custom-headers"><span>Typing of custom headers</span></a></li><li><a href="#zeebe-user-tasks"><span>Zeebe <wbr/>User <wbr/>Tasks</span></a></li><li><a href="#job-streaming"><span>Job <wbr/>Streaming</span></a></li><li><a href="#multi-tenant-workers"><span>Multi-<wbr/>tenant workers</span></a></li><li><a href="#polling-worker-backoff-in-error-conditions"><span>Polling worker backoff in error conditions</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@camunda8/sdk</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
